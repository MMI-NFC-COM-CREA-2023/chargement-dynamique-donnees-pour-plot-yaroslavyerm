<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    * {
        box-sizing: border-box;
    }

    body {
        font-family: 'Arial', sans-serif;
        margin: 0;
        padding: 0;
        background-color: #e0e0e0;
        color: #444;
    }

    header {
        background-color: #821c00;
        padding: 10px;
        color: #fff;
        text-align: center;
        font-size: 24px;
    }

    nav {
        background-color: #5e0505;
        color: #fff;
        padding: 10px;
    }

    nav ul {
        display: flex;
        justify-content: center;
        padding: 0;
        margin: 0;
        list-style: none;
        flex-wrap: wrap;
    }

    nav ul li {
        margin: 0 15px;
    }

    nav ul li a {
        color: #fff;
        text-decoration: none;
        font-size: 16px;
        padding: 8px 16px;
        transition: background-color 0.3s;
    }

    nav ul li a:hover {
        background-color: #8e1f12;
        border-radius: 4px;
    }

    h1 {
        text-align: center;
        color: #500000;
        font-size: 32px;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    main {
        display: flex;
        flex-direction: column;
        padding: 20px;
        background-color: #f0f0f0;
        min-height: calc(100vh - 150px);
    }

    section {
        flex: 1;
        background-color: #fff;
        padding: 20px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
    }

    h2 {
        color: #500000;
        border-bottom: 2px solid #8e1f00;
        padding-bottom: 5px;
        margin-bottom: 20px;
    }

    h3 {
        color: #821c00;
        margin-bottom: 15px;
        font-size: 22px;
    }

    p {
        line-height: 1.6;
        margin-bottom: 20px;
    }

    ul {
        list-style-type: disc;
        padding-left: 20px;
        margin-bottom: 20px;
    }

    figure {
        margin: 30px 0;
        text-align: center;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    figcaption {
        font-size: 12px;
        color: #777;
        margin-top: 10px;
        margin-bottom: 10px;
    }

    .container {
        width: 100%;
        height: 100%;
        background-color: #f0f0f0;
    }

    footer {
        background-color: #922000;
        color: #fff;
        text-align: center;
        padding: 10px;
        font-size: 14px;
        position: relative;
        bottom: 0;
        width: 100%;
    }

    footer a {
        color: #fff;
        text-decoration: none;
        font-size: 16px;
    }

    footer a:hover {
        text-decoration: underline;
    }

    /* Responsive Styling */
    @media (max-width: 1024px) {
        main {
            padding: 10px;
        }

        section {
            padding: 15px;
        }

        header {
            font-size: 22px;
        }

        nav ul li a {
            font-size: 14px;
            padding: 6px 12px;
        }

        h1 {
            font-size: 28px;
        }

        h3 {
            font-size: 20px;
        }
    }

    @media (max-width: 768px) {
        nav ul {
            flex-direction: column;
        }

        nav ul li {
            margin: 10px 0;
        }

        header {
            font-size: 20px;
            padding: 15px;
        }

        section {
            padding: 10px;
        }

        h1 {
            font-size: 24px;
        }

        h2 {
            font-size: 24px;
        }

        h3 {
            font-size: 18px;
        }
    }

    @media (max-width: 480px) {
        header {
            font-size: 18px;
            padding: 10px;
        }

        nav ul li a {
            font-size: 12px;
            padding: 4px 8px;
        }

        h1 {
            font-size: 22px;
        }

        h2 {
            font-size: 20px;
        }

        h3 {
            font-size: 16px;
        }

        p {
            font-size: 14px;
        }

        footer {
            font-size: 12px;
            padding: 8px;
        }
    }

    </style>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="#section1">Évolution des gains du vainqueur en grand chelem</a></li>
                <li><a href="#section2">Domination du Big three en grand chelem de 2002 à 2023</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <h1 id="title">Les statistiques du tennis</h1>
        <section id="section1">
            <h2>Évolution des gains du vainqueur en grand chelem</h2>
            <p>L'augmentation astronomique des gains des vainqueurs de Grand Chelem témoigne de l'évolution du sport et de son succès
            commercial. À mesure que le tennis passait d'un passe-temps amateur à une industrie mondiale, la valeur de ces
            prestigieux tournois a grimpé en flèche. Une couverture médiatique accrue, des foules plus importantes et des contrats
            de parrainage lucratifs ont alimenté cette tendance. Par conséquent, les meilleurs joueurs jouissent désormais de
            récompenses financières sans précédent, leur permettant de se consacrer pleinement à leur métier sans le fardeau de
            préoccupations financières.
            </p>

            <p>
                Il est intéressant de noter qu'en dépit de cette tendance générale à la hausse, certaines exceptions ont marqué
                l'histoire. Par exemple, lors du passage à l'euro en 2002, les récompenses monétaires de Roland-Garros
                ont connu une baisse significative. Ce changement de devise a temporairement perturbé l'échelle des prix, illustrant
                ainsi la complexité des facteurs économiques qui influencent les gains des joueurs.
            </p>

            <p>Cependant, cette augmentation rapide des gains a soulevé des questions légitimes sur l'équilibre entre le sport et la
            commercialisation. Certains affirment que la poursuite du gain financier peut éclipser l'esprit de compétition et
            l'intégrité du jeu. À mesure que le sport continue d'évoluer, il sera crucial de veiller à ce que l'accent reste mis sur
            l'athlétisme, la compétence et la passion qui ont fait du tennis un spectacle mondial bien-aimé.</p>
            <figure>
                <figcaption>Évolution des gains du vainqueur en grand chelem</figcaption>
                <div id="graph1" class="container"></div>
            </figure>
        </section>
        <section id="section2">
            <h2>Domination du Big three en grand chelem de 2002 à 2023</h2>
            <p>Roger Federer, Rafael Nadal et Novak Djokovic ont formé un trio légendaire qui a marqué l'histoire du tennis. De 2002
                à 2023, ils ont dominé les tournois du Grand Chelem, remportant collectivement 64 titres majeurs.</p>
        
            <h3>Les Légendes</h3>
        
            <ul>
                <li>Roger Federer : Le Maestro</li>
                <li>Rafael Nadal : Le Roi de la Terre Battue</li>
                <li>Novak Djokovic : Le Champion Constant</li>
            </ul>
        
            <h3>Leurs Réalisations</h3>
        
            <ul>
                <li>Titres combinés en Grand Chelem : 64</li>
                <li>Rivalités légendaires : Federer vs. Nadal, Nadal vs. Djokovic, Federer vs. Djokovic</li>
                <li>Ont élevé le niveau du jeu : Inspiré de nouvelles générations de joueurs de tennis</li>
            </ul>
        
            <h3>Controverses et Critiques</h3>
        
            <p>Cependant, la domination du Big Three a également suscité des critiques. Certains ont suggéré que leur succès a
                éclipsé les performances d'autres joueurs. De plus, la concentration des titres majeurs entre ces trois joueurs peut
                avoir rendu les tournois moins imprévisibles.</p>
        
            <h3>Un Héritage Durable</h3>
        
            <p>Malgré ces critiques, il est indéniable que le Big Three a marqué une époque et restera dans les mémoires comme l'un
                des trios les plus dominants de l'histoire du tennis.</p>
            <figure>
                <figcaption>Domination du Big three en grand chelem de 2002 à 2023</figcaption>
                <div id="graph2" class="container"></div>
            </figure>
        </section>
    </main>

    <footer>
        <a href="#title">Retour en haut</a>
    </footer>
</body>
<script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6"></script>
<script>
async function faitAsync(){
    const tennisResponse = await fetch("./tennis.json");
    const tennis = await tennisResponse.json();

const updatedData1 = await tennis.map(d => ({
        ...d,
        TOURNAMENT: d.TOURNAMENT.includes("Australian Open") ? "Australian Open" : d.TOURNAMENT
    }));

   const graph1 = Plot.plot({
   marginLeft: 60,
        marks: [
            Plot.ruleY([0]),  // Draws the horizontal line at Y = 0
            Plot.lineY(updatedData1.filter(d => d.WINNER_PRIZE > 0), {  // Only include data where PRIZE_EURO is greater than 0
                x: "YEAR",
                y: "WINNER_PRIZE",
                z: "TOURNAMENT",  // Group lines by TOURNAMENT
                stroke: "TOURNAMENT"  // Assign different colors to each TOURNAMENT
            })
        ],
        x: {
            ticks: updatedData1.filter(d => d.YEAR % 10 === 0).map(d => d.YEAR),  // Show ticks only for every 20th year
            label: "Year"
        },
        color: {
            legend: true,  // Show the legend
            legendPosition: "top",  // Place the legend at the top
            label: "Tournament"  // Label for the legend
        }
    });

            const div1 = document.querySelector("#graph1");
                div1.append(graph1);



      const tennisResponse2 = await fetch("./tennis2.json");
    const tennis2 = await tennisResponse2.json();
    const graph2 = Plot.plot({
            marginLeft: 125,
            color: { legend: true },
            marks: [
                Plot.barX(
                    tennis2,
                    Plot.groupY(
                        { x: "count" },
                        {
                            x: "WINNER",
                            y: "WINNER",
                            fill: "TOURNAMENT",
                            tip: true,
                            sort: { y: "x", reverse: true }
                        }
                    )
                ),
                Plot.ruleX([0])
            ]
        });

        const div2 = document.querySelector("#graph2");
            div2.append(graph2);
    }

    faitAsync();
</script>
</html>